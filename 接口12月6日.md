# 接口12.6

---

> note:
>
> 所有url都有/api前缀
>
> 除/user/auth之外,所有接口到要通过http基本认证

## 登录

```
POST /user/auth
```

Parma

```
{
 "username":"sbin",
 "password":"sbin"
}
```

Response

```
{
 "username":"sbin",
 "type":"student"|"teacher"|"admin",
 "avatar":"image url",
 "gender":"male"|"female",
 "email":"xxx@xxx.com",

 //student attribute
 "gitId":int,
 "number":"141250123",


 //teacher arrribute
 "authority":"true"|"false",

}
```

## 查看学生/教师课程

```
GET /user/{userId}/course
```

Response

```
[
   {
    "id":123
    "name":"14软工II2班",
    "description":"string"
   },
]
```

## 查看课程的考试 {#get-course-exam}

> 原定接口为GET /user/{userId}/course/{courseId}/exam

```
GET /course/{courseId}/exam
```

Response

```js
[
  {
    "id":123,
    "title":"软工二考试",
    "description":"string",
    "startAt":"yyyy-MM-dd hh:mm:ss",
    "endAt":"yyyy-MM-dd hh:mm:ss",
    "course":{
      "id":123
      "name":"14软工II2班",
      "description":"string"
    },
    "gitInitStatus":"fail"|"success"|"notyet",

    //服务器时间.防止学生修改系统时间从而开始考试
    "currentTime":"yyyy-MM-dd hh:mm:ss" 
  },

]
```

## 查看课程作业

```
GET /course/{courseId}/homework
```

response与[查看课程考试相同](#get-course-exam)

## 新增题目

```
POST /question
```

Params

```js
{
    "title":"string",
    "description":"string",
    "file":File,
    "type":"编程题",
    //创建者根据request的验证信息获得,不需要传参
}
```

Response

```js
{
    "title":"string", 
    "description":"string", 
    "fileUrl":"file url", 
    "type":"编程题",
    "creator":{
        //与登录时teacher基本信息相同
    }
}
```



