# 规则

---

## 考试初始化

为了方便老师修改考试信息,所以在考试开始前1小时初始化考试.

考虑实现方式为**每10分钟**检测一次assignment表,如果有

```
startAt - now() < 1h &&
gitInitStatus == notyet
```

就对它进行初始化.并将gitInitStatus置位initing

考试初始化分两个部分:

1.数据库score\_detail表初始化.  
即根据assignment的题目和人员,对每一个人和每一道题建立一行.

2.git仓库初始化  
使用gitlab系统接口初始化仓库,若没有创建失败的,将assignment的init\_status设为success,否则设为fail,并**将失败名单插入assignment\_init\_error表**

## 考试开始的判定

如果一个考试的init状态为success,且**服务器传回来的current time**在startAt和endAt之间,就视为考试开始.

## 学生查看考试

学生可以看到已经创建的考试,但**在考试开始前**,不能看到具体题目

## 老师查看考试

老师可以看到已经创建的考试,并且**对于自己的课程,**可以进入看到具体题目

## 老师修改考试



